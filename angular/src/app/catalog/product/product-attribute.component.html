<form [formGroup]="form" skipValidation (ngSubmit)="saveChanged()">
  <div class="grid">
    <div class="col-3">
      <div class="field">
        <p-dropdown
          [options]="attributes"
          [style]="{ width: '100%' }"
          placeholder="Chọn Thuộc Tính"
          [showClear]="true"
          formControlName="attributeId"
          (onChange)="selectAttribute($event)"
        >
        </p-dropdown>
      </div>
    </div>
    <div class="col-3">
      <div class="field">
        <p-calendar *ngIf="showDateTimeControl" formControlName="dateTimeValue"></p-calendar>
        <p-inputNumber *ngIf="showIntControl" formControlName="intValue"></p-inputNumber>
        <p-inputNumber *ngIf="showDecimalControl" formControlName="decimalValue" mode="decimal"></p-inputNumber>
        <input *ngIf="showVarcharControl" type="text" pInputText formControlName="varcharValue" class="w-full" />
        <input *ngIf="showTextControl" type="text" pInputText formControlName="textValue" class="w-full" />
      </div>
    </div>
    <div class="col-3">
      <button type="button" (click)="saveChanged()" [disabled]="!form.valid || btnDisabled" pButton>
        Thêm
      </button>
    </div>
  </div>
</form>
<p-table #tableCourses [value]="productAttributes" dataKey="id">
  <ng-template pTemplate="header">
    <tr>
      <th>Mã</th>
      <th style="width: 20%">Tên Thuộc Tính</th>
      <th style="width: 20%">Kiểu Dữ Liệu</th>
      <th>Giá trị</th>
      <th></th>   
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-row>  
    <tr>
      <td>{{ row.code }}</td>
      <td>{{ row.label }}</td>
      <td>{{ getDataTypeName(row.dataType) }}</td>
      <td>{{ getValueByType(row, row.dataType) }}</td>
      <td>
        <button
          pButton
          pRipple
          (click)="removeItem(row)"
          type="button"
          icon="pi pi-times"
          class="p-button-rounded p-button-danger p-button-text"
        ></button>
      </td>
    </tr>
  </ng-template>
</p-table>
<!--Block UI-->
<p-blockUI [blocked]="blockedPanel">
  <p-progressSpinner></p-progressSpinner>
</p-blockUI>